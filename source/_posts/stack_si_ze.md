title: 栈应用之四则运算
tags: []
categories:
  - 算法
author: Salamander
date: 2019-08-19 17:02:00
---
## 四则运算
四则运算表达式是我们小学就接触的内容，它遵循“先乘除，后加减，从左到右，括号内先算”的法则，例如“7 + (5 - 3) * 4 + 6 / 3”，这个表达式先算**5 - 3**得**2**，再算**2 \* 4**和**6 / 3**，最后计算**7 + 8 +2**，这个过程很简单，口算就能完成，但是如果让我们在程序里实现这个功能，该如何实现呢？我们遇到的困难在于乘除优在加减的后面，却要先运算，另外还要考虑括号，问题就复杂了。

## 后缀表达式
波兰有位科学家也想到了这个问题，他想出了一种新的**不需要括号**的表达式：“后缀表达式”，它更有利于计算机计算。让我们看看它的样子：对于“7 + (5 - 3) * 4 + 6 / 3”，后缀表达式为“7 5 3 - 4 * + 6 3 / +”，叫后缀的原因在于**运算符在操作数之后**。我们人类喜欢看到的表达式叫“中缀表达式”（因为运算符在操作数中间），但是计算机不喜欢它。

### 后缀表达式的方法
为了看到后缀表达式的好处，我们先看看，计算机如何利用后缀表达式计算出最终结果。
* 后缀表达式：**7 5 3 - 4 \* + 6 3 / +**
* 规则：从左到右遍历字符串，遇到数字则进栈，遇到符号则将栈顶的两个数字出栈，进行计算，运算结果进栈，一直到最终获得结果。

1. 初始化一个空栈，此栈用来对要运算的数字进出使用。
2. 字符串中前三个都是数字，所以7，5，3进栈。

![过程](https://s2.ax1x.com/2019/08/17/mKMtPg.png)


3. 接下来是“-”，所以5和3出栈，5作为被减数，3作为减数，5减3得到2，并将2入栈。
4. 接着是4入栈。

![过程](https://s2.ax1x.com/2019/08/17/mKMsaT.png)

5. 接下来是”*“，所以4和2出栈，4乘以2得8，8入栈。
6. 下面是“+”，7和8出栈，7加8得15，15入栈。

![过程](https://s2.ax1x.com/2019/08/17/mKMqRH.png)

7. 接下来6和3数字入栈。
8. 遇到符号“/”，所以6和3出栈，6作为被除数，3作为除数，6除3得2，2入栈。

![过程](https://s2.ax1x.com/2019/08/17/mKQKFU.png)

9. 最后遇到符号“+”，15和2出栈，15加2得17，17入栈，遍历结束，将最后结果出栈，得到17。

![过程](https://s2.ax1x.com/2019/08/17/mKloCD.png)